{"version":3,"sources":["webpack:///./src/views/Admin/Admin.vue","webpack:///./src/components/AdminModal.vue","webpack:///./src/components/AdminModal.vue?ad2e","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?4ca8","webpack:///./src/views/Admin/Admin.vue?50cf","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","width","type","toCoupon","orders","item","key","user","name","address","id","total","is_paid","openModal","deleteOrder","pages","pagination","getOrders","ref","orderdetail","tempProduct","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","detail","product","title","category","price","qty","final_total","props","data","watch","n","this","products","console","log","mixins","modalMixin","render","has_pre","href","style","$emit","current_page","total_pages","page","has_next","components","AdminModal","Pagiantion","isNew","isLoading","status","fileUploading","modal","editModal","delModal","methods","url","$http","get","then","res","success","totalPages","catch","err","alert","message","$refs","productModal","delete","$router","push","mounted","token","document","cookie","replace","defaults","headers","common","Authorization","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error"],"mappings":"sJACOA,MAAM,a,EAET,eACM,OADDA,MAAM,mCAAiC,S,GAErCA,MAAM,S,EACX,eAmBY,cAlBN,eAiBK,WAhBH,eAEK,MAFDC,MAAM,OAAM,QAGhB,eAAW,UAAP,MACJ,eAEK,MAFDA,MAAM,OAAM,UAGhB,eAEK,MAFDA,MAAM,OAAM,QAGhB,eAEK,MAFDA,MAAM,OAAM,UAGhB,eAEK,MAFDA,MAAM,OAAM,Y,YAYMD,MAAM,gB,aAI1BA,MAAM,a,kHApCpB,eAmDM,MAnDN,EAmDM,CAlDJ,eAA4D,UAApDE,KAAK,SAAU,QAAK,8CAAU,EAAAC,UAAA,EAAAA,SAAA,qBAAQ,eAAE,OAChD,EAEA,eA2CQ,QA3CR,EA2CQ,CA1CN,EAoBA,eAqBQ,e,mBApBN,eAmBK,2BAnBc,EAAAC,OAAOA,QAAM,SAArBC,G,wBAAX,eAmBK,MAnB8BC,IAAKD,GAAI,CAC3C,eAA6B,yBAAtBA,EAAKE,KAAKC,MAAI,GACrB,eAAgC,yBAAzBH,EAAKE,KAAKE,SAAO,GACxB,eAAsB,yBAAfJ,EAAKK,IAAE,GACd,eAAyB,yBAAlBL,EAAKM,OAAK,GACjB,eAGK,WAFQN,EAAKO,S,iBAAjB,eAAyD,OAAzD,EAA+C,S,iBAC/C,eAAuB,SAAV,UAEd,eASK,WARH,eAOK,MAPL,EAOK,CANJ,eAES,UAFDV,KAAK,SAASF,MAAM,mCAAoC,QAAK,mBAAE,EAAAa,UAAUR,KAAO,OAExF,eACA,eAES,UAFDH,KAAK,SAASF,MAAM,gCAAiC,QAAK,mCAAU,EAAAc,YAAYT,EAAKK,MAAE,cAAG,OAElG,wB,UAOR,eAA2D,GAA9CK,MAAO,EAAAC,WAAa,aAAa,EAAAC,W,iCAC9C,eAAuE,GAA3DC,IAAI,eAAgBC,YAAa,EAAAC,a,+DCjD7CpB,MAAM,aACNU,GAAG,eACHW,SAAS,KACTC,KAAK,SACLC,kBAAgB,oBAChBC,cAAY,OACZN,IAAI,S,GAEClB,MAAM,wBAAwBsB,KAAK,Y,GACjCtB,MAAM,0B,EACT,eAWM,OAXDA,MAAM,mCAAiC,CAC1C,eAGK,MAHDA,MAAM,cAAcU,GAAG,sBAI3B,eAKU,UAJRR,KAAK,SACLF,MAAM,YACNyB,kBAAgB,QAChBC,aAAW,Y,MAGV1B,MAAM,c,GACJA,MAAM,O,GAEFA,MAAM,iB,EACT,eAAW,UAAP,MAAE,G,EAEN,eAAW,UAAP,MAAE,G,EAEN,eAAW,UAAP,MAAE,G,EAEN,eAAW,UAAP,MAAE,G,EAEN,eAAW,UAAP,MAAE,G,EAMd,eAcM,OAdDA,MAAM,gBAAc,CACvB,eAMS,UALPE,KAAK,SACLF,MAAM,4BACNyB,kBAAgB,SACjB,U,mDA9CT,eA0DM,MA1DN,EA0DM,CAjDJ,eAgDM,MAhDN,EAgDM,CA/CJ,eA8CM,MA9CN,EA8CM,CA7CJ,EAYA,eAiBM,MAjBN,EAiBM,CAhBJ,eAeM,MAfN,EAeM,E,mBAdJ,eAaM,2BAb+B,EAAAE,QAAM,SAAdtB,G,wBAA7B,eAaM,OAbDL,MAAM,WAAmCM,IAAKD,G,CACjD,eAWM,MAXN,EAWM,CAVJ,EACA,eAA+B,wBAAzBA,EAAKuB,QAAQC,OAAK,GACxB,EACA,eAAkC,wBAA5BxB,EAAKuB,QAAQE,UAAQ,GAC3B,EACA,eAA+B,wBAAzBzB,EAAKuB,QAAQG,OAAK,GACxB,EACA,eAAqB,wBAAf1B,EAAK2B,KAAG,GACd,EACA,eAA6B,wBAAvB3B,EAAK4B,aAAW,U,UAK9B,O,qBAuBO,GACbC,MAAO,CAAC,eACRC,KAFa,WAGX,MAAO,CACLR,OAAQ,KAGZS,MAAO,CACLjB,YADK,SACQkB,GACXC,KAAKX,OAASW,KAAKnB,YAAYoB,SAC/BC,QAAQC,IAAIH,KAAKX,UAGrBe,OAAQ,CAACC,EAAA,OC3EX,EAAOC,OAAS,EAED,Q,GCJRlB,aAAW,2B,GACZ1B,MAAM,4C,EAGJ,eAAuC,QAAjCwB,cAAY,QAAO,KAAO,G,EAQhC,eAAuC,QAAjCA,cAAY,QAAO,KAAO,G,gDAZtC,eAgBI,MAhBJ,EAgBI,CAfJ,eAcK,KAdL,EAcK,CAbH,eAIK,MAJDxB,MAAK,CAAC,YAAW,WAAwB,EAAAgB,WAAW6B,W,CACtD,eAEI,KAFD7C,MAAM,YAAY8C,KAAK,IAAIpB,aAAW,WAAWqB,MAAA,gBAAuB,QAAK,+CAAU,EAAAC,MAAK,cAAgB,EAAAhC,WAAWiC,aAAY,oB,CACpI,K,uBAGJ,eAEK,2BAFgC,EAAAjC,WAAWkC,aAAW,SAA9BC,G,wBAA7B,eAEK,MAFDnD,MAAM,YAAoDM,IAAK6C,G,CAC/D,eAA8G,KAA3GnD,MAAM,YAAY8C,KAAK,IAAIC,MAAA,gBAAuB,QAAK,mCAAU,EAAAC,MAAK,cAAgBG,KAAI,c,eAAMA,GAAI,oB,MAE3G,eAIK,MAJDnD,MAAK,CAAC,YAAW,WAAwB,EAAAgB,WAAWoC,Y,CACtD,eAEI,KAFDpD,MAAM,YAAY8C,KAAK,IAAIpB,aAAW,OAAOqB,MAAA,gBAAuB,QAAK,+CAAU,EAAAC,MAAK,cAAgB,EAAAhC,WAAWiC,aAAY,oB,CAChI,K,OAQO,OACbf,MAAO,CAAC,SACRC,KAFa,WAGX,MAAO,CACLnB,WAAY,KAGhBoB,MAAO,CACLrB,MADK,SACEsB,GACLC,KAAKtB,WAAasB,KAAKvB,SC3B7B,EAAO6B,OAAS,EAED,QJsDA,GACbS,WAAY,CACVC,aAAYC,WAAA,GAEdpB,KAJa,WAKX,MAAO,CACL/B,OAAQ,GACRY,WAAY,GACZI,YAAa,GACboC,OAAO,EACPC,WAAW,EACXC,OAAQ,CACNC,eAAe,GAEjBC,MAAO,CACLC,UAAW,GACXC,SAAU,MAIhBC,QAAS,CACP9C,UADO,SACIkC,GAAM,WACTa,EAAE,UAAO,uCAAP,gBAAsC,WAAtC,8BAAoFb,GAC5Fb,KAAK2B,MAAMC,IAAIF,GAAKG,MAAK,SAACC,GACpBA,EAAIjC,KAAKkC,UACX,EAAKjE,OAASgE,EAAIjC,KAClB,EAAKmC,WAAaF,EAAIjC,KAAKnB,WAAWkC,YACtC,EAAKlC,WAAaoD,EAAIjC,KAAKnB,WAC3BwB,QAAQC,IAAI,EAAKrC,YAElBmE,OAAM,SAAAC,GACPC,MAAMD,EAAIE,aAGd7D,UAdO,SAcIR,GACTiC,KAAKqC,MAAMC,aAAa/D,YACxByB,KAAKlB,YAAcf,GAGrBS,YAnBO,SAmBMJ,GAAI,WACf8B,QAAQC,IAAI/B,GACZ,IAAMsD,EAAE,UAAO,uCAAP,gBAAsC,WAAtC,wBAA8EtD,GACtF4B,KAAK2B,MAAMY,OAAOb,GAAKG,MAAK,SAAAC,GAC1B5B,QAAQC,IAAI2B,GACZ,EAAKnD,UAAU,EAAKD,WAAWiC,iBAC9BsB,OAAM,SAAAC,GACPC,MAAMD,EAAIE,aAGdvE,SA7BO,WA8BLmC,KAAKwC,QAAQC,KAAK,aAGtBC,QArDa,WAsDX,IAAMC,EAAQC,SAASC,OAAOC,QAAQ,iDAAkD,MACxF9C,KAAK2B,MAAMoB,SAASC,QAAQC,OAAOC,cAAgBP,EACnDzC,QAAQC,IAAIwC,GACZ3C,KAAKrB,cKjHT,EAAO2B,OAASA,EAED,gB,qBCLf,IAAI6C,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdjC,IAAK,WACH,IACE,OAAO6B,EAA0BK,KAAK9D,MAAM+D,MAAMJ,GAAQ,GAC1D,MAAOK,GACP,MAAO","file":"js/chunk-62b04c04.d7403104.js","sourcesContent":["<template>\n  <div class=\"container\">\n    <button type=\"button\" @click.prevent=\"toCoupon\">優惠券</button>\n    <div class=\"d-flex justify-content-end mt-4\">\n    </div>\n    <table class=\"table\">\n      <thead>\n            <tr>\n              <th width=\"120\">\n                姓名\n              </th>\n              <th>地址</th>\n              <th width=\"120\">\n                訂單ID\n              </th>\n              <th width=\"120\">\n                金額\n              </th>\n              <th width=\"100\">\n                是否啟用\n              </th>\n              <th width=\"120\">\n                編輯\n              </th>\n            </tr>\n          </thead>\n      <tbody>\n        <tr v-for=\"item in orders.orders\" :key=\"item\">\n         <td>{{ item.user.name }}</td>\n         <td>{{ item.user.address }}</td>\n         <td>{{ item.id }}</td>\n         <td>{{ item.total }}</td>\n         <td>\n          <span v-if=\"item.is_paid\" class=\"text-success\">已付款</span>\n          <span v-else>未付款</span>\n         </td>\n         <td>\n           <div class=\"btn-group\">\n            <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" @click=\"openModal(item)\">\n              詳情\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"deleteOrder(item.id)\">\n              刪除\n            </button>\n          </div>\n         </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- ProductModal -->\n    <Pagiantion :pages=\"pagination\" @get-product=\"getOrders\" />\n    <AdminModal ref=\"productModal\" :orderdetail=\"tempProduct\"></AdminModal>\n  </div>\n</template>\n\n<script>\nimport AdminModal from '@/components/AdminModal.vue'\nimport Pagiantion from '@/components/Pagination.vue'\n\nexport default {\n  components: {\n    AdminModal, Pagiantion\n  },\n  data () {\n    return {\n      orders: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n      status: {\n        fileUploading: false\n      },\n      modal: {\n        editModal: '',\n        delModal: ''\n      }\n    }\n  },\n  methods: {\n    getOrders (page) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          this.orders = res.data\n          this.totalPages = res.data.pagination.total_pages\n          this.pagination = res.data.pagination\n          console.log(this.orders)\n        }\n      }).catch(err => {\n        alert(err.message)\n      })\n    },\n    openModal (item) {\n      this.$refs.productModal.openModal()\n      this.tempProduct = item\n      // console.log(this.tempProduct)\n    },\n    deleteOrder (id) {\n      console.log(id)\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${id}`\n      this.$http.delete(url).then(res => {\n        console.log(res)\n        this.getOrders(this.pagination.current_page)\n      }).catch(err => {\n        alert(err.message)\n      })\n    },\n    toCoupon () {\n      this.$router.push('/coupon')\n    }\n  },\n  mounted () {\n    const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n    this.$http.defaults.headers.common.Authorization = token\n    console.log(token)\n    this.getOrders()\n  }\n}\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"productModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <!-- <span v-if=\"isNew\">新增產品</span>\n            <span v-else>編輯產品</span> -->\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-8\" v-for=\"item in detail\" :key=\"item\">\n              <div class=\"border-bottom\">\n                <h2>品項</h2>\n                <p>{{ item.product.title }}</p>\n                <h2>分類</h2>\n                <p>{{ item.product.category }}</p>\n                <h2>售價</h2>\n                <p>{{ item.product.price }}</p>\n                <h2>數量</h2>\n                <p>{{ item.qty }}</p>\n                <h2>總計</h2>\n                <p>{{ item.final_total }}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            確認\n          </button>\n          <!-- <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n          >\n            取消\n          </button> -->\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin'\n\nexport default {\n  props: ['orderdetail'],\n  data () {\n    return {\n      detail: []\n    }\n  },\n  watch: {\n    orderdetail (n) {\n      this.detail = this.orderdetail.products\n      console.log(this.detail)\n    }\n  },\n  mixins: [modalMixin]\n}\n</script>\n","import { render } from \"./AdminModal.vue?vue&type=template&id=fa5fde7e\"\nimport script from \"./AdminModal.vue?vue&type=script&lang=js\"\nexport * from \"./AdminModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination d-flex justify-content-center\">\n    <li class=\"page-item\" :class=\"{ 'disabled': !pagination.has_pre }\">\n      <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" style=\"color: black;\" @click.prevent=\"$emit('get-product', pagination.current_page - 1)\">\n        <span aria-hidden=\"true\">&laquo;</span>\n      </a>\n    </li>\n    <li class=\"page-item\" v-for=\"page in pagination.total_pages\" :key=\"page\" >\n        <a class=\"page-link\" href=\"#\" style=\"color: black;\" @click.prevent=\"$emit('get-product', page)\">{{ page }}</a>\n    </li>\n    <li class=\"page-item\" :class=\"{ 'disabled': !pagination.has_next}\">\n      <a class=\"page-link\" href=\"#\" aria-label=\"Next\" style=\"color: black;\" @click.prevent=\"$emit('get-product', pagination.current_page + 1)\">\n        <span aria-hidden=\"true\">&raquo;</span>\n      </a>\n    </li>\n  </ul>\n</nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  data () {\n    return {\n      pagination: {}\n    }\n  },\n  watch: {\n    pages (n) {\n      this.pagination = this.pages\n    }\n  }\n}\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=d3a211a2\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Admin.vue?vue&type=template&id=2383decb\"\nimport script from \"./Admin.vue?vue&type=script&lang=js\"\nexport * from \"./Admin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}