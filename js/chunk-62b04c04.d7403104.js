(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62b04c04"],{"2de3":function(t,e,n){"use strict";n.r(e);n("b0c0");var a=n("7a23"),c={class:"container"},o=Object(a["h"])("div",{class:"d-flex justify-content-end mt-4"},null,-1),l={class:"table"},i=Object(a["h"])("thead",null,[Object(a["h"])("tr",null,[Object(a["h"])("th",{width:"120"}," 姓名 "),Object(a["h"])("th",null,"地址"),Object(a["h"])("th",{width:"120"}," 訂單ID "),Object(a["h"])("th",{width:"120"}," 金額 "),Object(a["h"])("th",{width:"100"}," 是否啟用 "),Object(a["h"])("th",{width:"120"}," 編輯 ")])],-1),r={key:0,class:"text-success"},s={key:1},d={class:"btn-group"};function b(t,e,n,b,u,h){var p=Object(a["A"])("Pagiantion"),O=Object(a["A"])("AdminModal");return Object(a["t"])(),Object(a["e"])("div",c,[Object(a["h"])("button",{type:"button",onClick:e[1]||(e[1]=Object(a["M"])((function(){return h.toCoupon&&h.toCoupon.apply(h,arguments)}),["prevent"]))},"優惠券"),o,Object(a["h"])("table",l,[i,Object(a["h"])("tbody",null,[(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(u.orders.orders,(function(t){return Object(a["t"])(),Object(a["e"])("tr",{key:t},[Object(a["h"])("td",null,Object(a["D"])(t.user.name),1),Object(a["h"])("td",null,Object(a["D"])(t.user.address),1),Object(a["h"])("td",null,Object(a["D"])(t.id),1),Object(a["h"])("td",null,Object(a["D"])(t.total),1),Object(a["h"])("td",null,[t.is_paid?(Object(a["t"])(),Object(a["e"])("span",r,"已付款")):(Object(a["t"])(),Object(a["e"])("span",s,"未付款"))]),Object(a["h"])("td",null,[Object(a["h"])("div",d,[Object(a["h"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:function(e){return h.openModal(t)}}," 詳情 ",8,["onClick"]),Object(a["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:Object(a["M"])((function(e){return h.deleteOrder(t.id)}),["prevent"])}," 刪除 ",8,["onClick"])])])])})),128))])]),Object(a["h"])(p,{pages:u.pagination,onGetProduct:h.getOrders},null,8,["pages","onGetProduct"]),Object(a["h"])(O,{ref:"productModal",orderdetail:u.tempProduct},null,8,["orderdetail"])])}n("99af"),n("ac1f"),n("5319");var u={class:"modal fade",id:"productModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},h={class:"modal-dialog modal-xl",role:"document"},p={class:"modal-content border-0"},O=Object(a["h"])("div",{class:"modal-header bg-dark text-white"},[Object(a["h"])("h5",{class:"modal-title",id:"exampleModalLabel"}),Object(a["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),j={class:"modal-body"},g={class:"row"},f={class:"border-bottom"},m=Object(a["h"])("h2",null,"品項",-1),v=Object(a["h"])("h2",null,"分類",-1),y=Object(a["h"])("h2",null,"售價",-1),k=Object(a["h"])("h2",null,"數量",-1),w=Object(a["h"])("h2",null,"總計",-1),M=Object(a["h"])("div",{class:"modal-footer"},[Object(a["h"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 確認 ")],-1);function x(t,e,n,c,o,l){return Object(a["t"])(),Object(a["e"])("div",u,[Object(a["h"])("div",h,[Object(a["h"])("div",p,[O,Object(a["h"])("div",j,[Object(a["h"])("div",g,[(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(o.detail,(function(t){return Object(a["t"])(),Object(a["e"])("div",{class:"col-sm-8",key:t},[Object(a["h"])("div",f,[m,Object(a["h"])("p",null,Object(a["D"])(t.product.title),1),v,Object(a["h"])("p",null,Object(a["D"])(t.product.category),1),y,Object(a["h"])("p",null,Object(a["D"])(t.product.price),1),k,Object(a["h"])("p",null,Object(a["D"])(t.qty),1),w,Object(a["h"])("p",null,Object(a["D"])(t.final_total),1)])])})),128))])]),M])])],512)}var C=n("e0ae"),D={props:["orderdetail"],data:function(){return{detail:[]}},watch:{orderdetail:function(t){this.detail=this.orderdetail.products,console.log(this.detail)}},mixins:[C["a"]]};D.render=x;var $=D,P={"aria-label":"Page navigation example"},_={class:"pagination d-flex justify-content-center"},A=Object(a["h"])("span",{"aria-hidden":"true"},"«",-1),L=Object(a["h"])("span",{"aria-hidden":"true"},"»",-1);function G(t,e,n,c,o,l){return Object(a["t"])(),Object(a["e"])("nav",P,[Object(a["h"])("ul",_,[Object(a["h"])("li",{class:["page-item",{disabled:!o.pagination.has_pre}]},[Object(a["h"])("a",{class:"page-link",href:"#","aria-label":"Previous",style:{color:"black"},onClick:e[1]||(e[1]=Object(a["M"])((function(e){return t.$emit("get-product",o.pagination.current_page-1)}),["prevent"]))},[A])],2),(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(o.pagination.total_pages,(function(e){return Object(a["t"])(),Object(a["e"])("li",{class:"page-item",key:e},[Object(a["h"])("a",{class:"page-link",href:"#",style:{color:"black"},onClick:Object(a["M"])((function(n){return t.$emit("get-product",e)}),["prevent"])},Object(a["D"])(e),9,["onClick"])])})),128)),Object(a["h"])("li",{class:["page-item",{disabled:!o.pagination.has_next}]},[Object(a["h"])("a",{class:"page-link",href:"#","aria-label":"Next",style:{color:"black"},onClick:e[2]||(e[2]=Object(a["M"])((function(e){return t.$emit("get-product",o.pagination.current_page+1)}),["prevent"]))},[L])],2)])])}var J={props:["pages"],data:function(){return{pagination:{}}},watch:{pages:function(t){this.pagination=this.pages}}};J.render=G;var N=J,q={components:{AdminModal:$,Pagiantion:N},data:function(){return{orders:[],pagination:{},tempProduct:{},isNew:!1,isLoading:!1,status:{fileUploading:!1},modal:{editModal:"",delModal:""}}},methods:{getOrders:function(t){var e=this,n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/admin/orders?page=").concat(t);this.$http.get(n).then((function(t){t.data.success&&(e.orders=t.data,e.totalPages=t.data.pagination.total_pages,e.pagination=t.data.pagination,console.log(e.orders))})).catch((function(t){alert(t.message)}))},openModal:function(t){this.$refs.productModal.openModal(),this.tempProduct=t},deleteOrder:function(t){var e=this;console.log(t);var n="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/admin/order/").concat(t);this.$http.delete(n).then((function(t){console.log(t),e.getOrders(e.pagination.current_page)})).catch((function(t){alert(t.message)}))},toCoupon:function(){this.$router.push("/coupon")}},mounted:function(){var t=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=t,console.log(t),this.getOrders()}};q.render=b;e["default"]=q},b0c0:function(t,e,n){var a=n("83ab"),c=n("9bf2").f,o=Function.prototype,l=o.toString,i=/^\s*function ([^ (]*)/,r="name";a&&!(r in o)&&c(o,r,{configurable:!0,get:function(){try{return l.call(this).match(i)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-62b04c04.d7403104.js.map