(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5800927f"],{"0a2f":function(t,e,c){"use strict";c.r(e);c("b0c0");var a=c("7a23"),n={class:"wrap container"},o={class:"row shadow p-4 mb-5"},s={class:"col-md-7"},r={class:"mb-3"},l={class:"input-group-addon"},i=Object(a["h"])("i",{class:"bi bi-arrow-left"},null,-1),d=Object(a["h"])("span",{class:"ml-1 font-size-light"},"返回購物車",-1),u={class:"col-md-12"},b={class:"from-group mb-4"},h=Object(a["h"])("label",{for:"email"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["g"])(" Email")],-1),f={class:"from-group mb-4"},p=Object(a["h"])("label",{for:"name"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["g"])(" 收件人姓名")],-1),j={class:"from-group mb-4"},O=Object(a["h"])("label",{for:"tel"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["g"])(" 收件人電話")],-1),m={class:"from-group mb-4"},v=Object(a["h"])("label",{for:"address"},[Object(a["h"])("span",{class:"text-danger"},"*"),Object(a["g"])(" 收件人地址")],-1),g={class:"from-group mb-4"},x=Object(a["h"])("label",{for:"message",class:"form-label"},"留言",-1),y={class:"col-md-5"},w={class:"boder-primary p-3 mb-4"},C=Object(a["h"])("h3",{class:"mb-4"},[Object(a["h"])("i",{class:"bi bi-cart"}),Object(a["g"])(" 訂單明細")],-1),k={class:"w-100"},V={class:"d-flex justify-content-between"},I={class:"font-size-light"},z={class:"font-size-light"},$={class:"d-flex justify-content-between w-100"},D={class:"font-size-light"},A={class:"font-size-light"},L={class:"w-100"},S={class:"d-flex justify-content-between border-top pt-4"},M=Object(a["h"])("p",{class:"font-size-Regular"},"總計",-1),U={class:"w-100"},q=Object(a["h"])("label",{for:"couponInput",class:"font-size-light"},"請輸入morefun取得折扣",-1),E={class:"d-flex border-top pt-4 d-flex justify-content-center"},T={class:"input-group my-3 bg-light rounded w-100"},_=Object(a["h"])("p",null,null,-1),F={class:"w-100"},B={class:"d-grid gap-2"};function R(t,e,c,R,N,G){var J=Object(a["A"])("FrontNavBar"),X=Object(a["A"])("Field"),H=Object(a["A"])("Error-message"),K=Object(a["A"])("Form");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["h"])(J),Object(a["h"])("div",n,[Object(a["h"])("div",o,[Object(a["h"])("div",s,[Object(a["h"])("div",r,[Object(a["h"])("span",l,[Object(a["h"])("button",{class:"btn btn-secondary btn-sm",type:"button",onClick:e[1]||(e[1]=Object(a["M"])((function(){return G.backToShopCart&&G.backToShopCart.apply(G,arguments)}),["prevent"]))},[i])]),d,Object(a["h"])("div",u,[Object(a["h"])(K,{class:"pt-4"},{default:Object(a["K"])((function(t){var c=t.errors;return[Object(a["h"])("div",b,[h,Object(a["h"])(X,{id:"email",name:"email",type:"text",class:["form-control",{"is-invalid":c["email"]}],placeholder:"請輸入Email",rules:"required",modelValue:N.forms.user.email,"onUpdate:modelValue":e[2]||(e[2]=function(t){return N.forms.user.email=t})},null,8,["class","modelValue"]),Object(a["h"])(H,{name:"email",class:"invalid-feedback"})]),Object(a["h"])("div",f,[p,Object(a["h"])(X,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":c["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:N.forms.user.name,"onUpdate:modelValue":e[3]||(e[3]=function(t){return N.forms.user.name=t})},null,8,["class","modelValue"]),Object(a["h"])(H,{name:"姓名",class:"invalid-feedback"})]),Object(a["h"])("div",j,[O,Object(a["h"])(X,{id:"tel",name:"電話",type:"text",class:["form-control",{"is-invalid":c["電話"]}],placeholder:"請輸入電話",rules:"required",modelValue:N.forms.user.tel,"onUpdate:modelValue":e[4]||(e[4]=function(t){return N.forms.user.tel=t})},null,8,["class","modelValue"]),Object(a["h"])(H,{name:"電話",class:"invalid-feedback"})]),Object(a["h"])("div",m,[v,Object(a["h"])(X,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":c["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:N.forms.user.address,"onUpdate:modelValue":e[5]||(e[5]=function(t){return N.forms.user.address=t})},null,8,["class","modelValue"]),Object(a["h"])(H,{name:"地址",class:"invalid-feedback"})]),Object(a["h"])("div",g,[x,Object(a["L"])(Object(a["h"])("textarea",{id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[6]||(e[6]=function(t){return N.forms.message=t})},null,512),[[a["G"],N.forms.message]])])]})),_:1})])])]),Object(a["h"])("div",y,[Object(a["h"])("div",w,[C,(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(N.cart.carts,(function(t){return Object(a["t"])(),Object(a["e"])("div",{class:"d-flex mb-4",key:t},[Object(a["h"])("img",{src:t.product.imageUrl,class:"orderImg mr-0"},null,8,["src"]),Object(a["h"])("div",k,[Object(a["h"])("div",V,[Object(a["h"])("p",I,Object(a["D"])(t.product.title),1),Object(a["h"])("p",z,"X"+Object(a["D"])(t.qty),1)]),Object(a["h"])("div",$,[Object(a["h"])("p",D,"$ "+Object(a["D"])(t.product.price)+"/ 張",1),Object(a["h"])("p",A,Object(a["D"])(t.total),1)])])])})),128)),Object(a["h"])("div",L,[Object(a["h"])("div",S,[M,Object(a["h"])("p",{class:["font-size-Regular",{"text-success":N.couponSuccess}]},"$ "+Object(a["D"])(N.final_total),3)])]),Object(a["h"])("div",U,[q,Object(a["h"])("div",E,[Object(a["h"])("div",T,[Object(a["L"])(Object(a["h"])("input",{id:"couponInput",class:"form-control border-dark",type:"text",placeholder:"請輸入優惠碼","onUpdate:modelValue":e[7]||(e[7]=function(t){return N.couponCode=t})},null,512),[[a["G"],N.couponCode]]),Object(a["h"])("button",{type:"button",class:"btn btn-secondary",onClick:e[8]||(e[8]=function(){return G.addCouponCode&&G.addCouponCode.apply(G,arguments)})},"套用優惠碼")]),_])])]),Object(a["h"])("div",F,[Object(a["h"])("div",B,[Object(a["h"])("button",{class:"btn btn-secondary py-3 px-7",type:"submit",onClick:e[9]||(e[9]=Object(a["M"])((function(){return G.checkOut&&G.checkOut.apply(G,arguments)}),["prevent"]))},"確認結帳")])])])])])],64)}c("99af");var N=c("a9f2"),G={data:function(){return{cart:{},final_total:{},user:{},forms:{user:{name:"",email:"",tel:"",address:""},messages:""},orderId:"",couponCode:"",couponSuccess:!1}},watch:{forms:function(t,e){console.log(t,e)}},components:{FrontNavBar:N["a"]},methods:{backToShopCart:function(){this.$router.push("/shopcart")},checkOut:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/order");this.$http.post(e,{data:this.forms}).then((function(e){e.data.success?(t.orderId=e.data.orderId,console.log(t.orderId),t.$router.push("/checkout/".concat(t.orderId))):t.$swal({title:"* 為必填資料",icon:"error"})})).catch((function(t){alert(t)}))},getCartList:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/cart");this.$http.get(e).then((function(e){e.data.success&&(console.log(e.data.data),t.cart=e.data.data,t.final_total=e.data.data.final_total)})).catch((function(t){alert(t.message)}))},addCouponCode:function(){var t=this;console.log(this.couponCode);var e={code:this.couponCode},c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/coupon");this.$http.post(c,{data:e}).then((function(e){console.log(e.data.success),t.couponSuccess=!0,t.getCartList(),t.$swal({title:"價格以打折"})}))}},mounted:function(){this.getCartList()}};G.render=R;e["default"]=G},"1dde":function(t,e,c){var a=c("d039"),n=c("b622"),o=c("2d00"),s=n("species");t.exports=function(t){return o>=51||!a((function(){var e=[],c=e.constructor={};return c[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"65f0":function(t,e,c){var a=c("861d"),n=c("e8b5"),o=c("b622"),s=o("species");t.exports=function(t,e){var c;return n(t)&&(c=t.constructor,"function"!=typeof c||c!==Array&&!n(c.prototype)?a(c)&&(c=c[s],null===c&&(c=void 0)):c=void 0),new(void 0===c?Array:c)(0===e?0:e)}},8418:function(t,e,c){"use strict";var a=c("c04e"),n=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var s=a(e);s in t?n.f(t,s,o(0,c)):t[s]=c}},"99af":function(t,e,c){"use strict";var a=c("23e7"),n=c("d039"),o=c("e8b5"),s=c("861d"),r=c("7b0b"),l=c("50c4"),i=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),h=c("2d00"),f=b("isConcatSpreadable"),p=9007199254740991,j="Maximum allowed index exceeded",O=h>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),m=u("concat"),v=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},g=!O||!m;a({target:"Array",proto:!0,forced:g},{concat:function(t){var e,c,a,n,o,s=r(this),u=d(s,0),b=0;for(e=-1,a=arguments.length;e<a;e++)if(o=-1===e?s:arguments[e],v(o)){if(n=l(o.length),b+n>p)throw TypeError(j);for(c=0;c<n;c++,b++)c in o&&i(u,b,o[c])}else{if(b>=p)throw TypeError(j);i(u,b++,o)}return u.length=b,u}})},a9f2:function(t,e,c){"use strict";var a=c("7a23"),n={class:"container bg-white"},o={class:"navbar navbar-expand-lg navbar-light d-flex"},s={class:"container-fluid justify-content-sapce-between"},r=Object(a["h"])("a",{class:"navbar-brand text-secondary font-size-Regular",href:"./index.html"}," EXHIBITION ",-1),l={class:"navbar-nav ms-auto"},i={class:"nav-item d-flex position-relative"},d={class:"nav-item nav-link dropdown-menu-right me-4 font-size-Regular hover",href:"#",id:"dropdownMenuLink","data-bs-toggle":"dropdown","aria-expanded":"false"},u=Object(a["g"])(" 購物車 "),b=Object(a["h"])("i",{class:"bi bi-cart2"},null,-1),h={class:"rounded-circle bg-danger text-white position-absolute px-2",style:{right:"-7px",top:"3px","font-size":"13px"}},f={class:"dropdown-menu position-absolute","aria-labelledby":"dropdownMenuLink",style:{"min-width":"350px",right:"-15px",left:"auto"}},p={class:"px-4 py-3"},j=Object(a["h"])("h6",{class:"font-size-light text-center border-bottom pb-2"},"已選擇商品",-1),O={class:"table mb-4"},m=Object(a["h"])("thead",{class:"border-bottom"},[Object(a["h"])("tr",null,[Object(a["h"])("th",{style:{width:"43px"}}),Object(a["h"])("th",{class:"text-center",style:{width:"95px"}},"名稱"),Object(a["h"])("th",{class:"text-center",style:{width:"56px"}},"數量"),Object(a["h"])("th",{class:"text-center",style:{width:"60px"}},"單價")])],-1),v={class:"align-middle"},g=Object(a["h"])("i",{class:"bi bi-trash"},null,-1),x={class:"align-middle text-center"},y={class:"align-middle text-center"},w={class:"align-middle text-center"};function C(t,e,c,C,k,V){return Object(a["t"])(),Object(a["e"])("div",n,[Object(a["h"])("nav",o,[Object(a["h"])("div",s,[r,Object(a["h"])("div",null,[Object(a["h"])("ul",l,[Object(a["h"])("li",i,[Object(a["h"])("a",d,[u,b,Object(a["h"])("div",h,Object(a["D"])(void 0!==k.cart.carts&&k.cart.carts.length),1)]),Object(a["h"])("div",f,[Object(a["h"])("div",p,[j,Object(a["h"])("table",O,[m,Object(a["h"])("tbody",null,[(Object(a["t"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(k.cart.carts,(function(t){return Object(a["t"])(),Object(a["e"])("tr",{class:"",key:t},[Object(a["h"])("td",v,[Object(a["h"])("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:Object(a["M"])((function(e){return V.dropdownDeleteIcon(t.id)}),["stop"])},[g],8,["onClick"])]),Object(a["h"])("td",x,Object(a["D"])(t.product.title),1),Object(a["h"])("td",y,Object(a["D"])(t.qty)+"張 ",1),Object(a["h"])("td",w," $"+Object(a["D"])(t.final_total),1)])})),128))])]),Object(a["h"])("a",{href:"#/shopcart",class:["btn btn-secondary d-block btn-tocart",{disabled:0===k.cartLength}]}," 點擊結帳 ",2)])])])])])])])])}c("99af");var k=c("e4f3"),V={data:function(){return{cart:{},cartLength:0}},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/cart");this.$http.get(e).then((function(e){t.cart=e.data.data,t.cartLength=e.data.data.carts.length}))},dropdownDeleteIcon:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("finaltwo","/cart/").concat(t);this.$http.delete(c).then((function(t){t.data.success&&e.getCart()})).catch((function(t){alert(t.message)}))}},mounted:function(){var t=this;this.getCart(),k["a"].on("update-cart",(function(){t.getCart()}))}};V.render=C;e["a"]=V},b0c0:function(t,e,c){var a=c("83ab"),n=c("9bf2").f,o=Function.prototype,s=o.toString,r=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return s.call(this).match(r)[1]}catch(t){return""}}})},e4f3:function(t,e,c){"use strict";var a=function(t){return{all:t=t||new Map,on:function(e,c){var a=t.get(e);a?a.push(c):t.set(e,[c])},off:function(e,c){var a=t.get(e);a&&(c?a.splice(a.indexOf(c)>>>0,1):t.set(e,[]))},emit:function(e,c){var a=t.get(e);a&&a.slice().map((function(t){t(c)})),(a=t.get("*"))&&a.slice().map((function(t){t(e,c)}))}}},n=a();e["a"]=n},e8b5:function(t,e,c){var a=c("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}}}]);
//# sourceMappingURL=chunk-5800927f.2c70bf3e.js.map